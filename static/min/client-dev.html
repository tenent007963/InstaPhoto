<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
	<meta content="no-cache, no-store, must-revalidate" http-equiv="Cache-Control">
	<meta name="viewport" content="initial-scale=1.5,maximum-scale=3,user-scalable=no"/>
    <title>InstantPhoto - Client</title>
    <link rel="icon" href="./favicon">
    <script src="/socket.io/socket.io.js"></script>
	<script src="/compressor.js"></script>
	<script src="./jquery.js"></script>
	<script src="./html5-qrcode.min.js"></script>
	<link rel="stylesheet" href="./bootstrap.css">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/inter-ui@3.13.1/Inter%20(web)/Inter-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
	<script src="./bootstrap.js"></script>
    <!-- JS-Cookie -->
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>
	<!-- Custom Style -->
	<link rel="stylesheet" href="./client.css">
  </head>
  
  <body>
	<header>
		<div class="refresh-page">
			<div class="btn refresh-btn" onclick="window.location.reload();" id="refresh">
				<span>Reload Page</span>
			</div>
		</div>
	</header>
  
    <!-- File input -->
	<div class="container" id="container">
		
		<div class="row-fluid align-items-center justify-content-start">
			<div class="col">
				<h5 id="croom">Status: <span id="roomindicator" class="offline">&#x25cf; Offline</span></h5>
				<h5 id="status">Waiting to join room...</h5>
			</div>
		</div>	
		<div class="row-fluid align-items-center justify-content-start">
			<div class="col">
				<form class="md-form" id="holder" name="upload">
					<div class="custom-file mb-3">
						<input type="file" class="custom-file-input" id="input1" name="fresh" accept="image/*" capture="camera" autofocus>
						<label class="custom-file-label" for="input1">Open Camera</label>
					</div>
					<div class="custom-file mb-3">
						<input type="file" class="custom-file-input" id="input2" name="gallery" accept="image/*">
						<label class="custom-file-label" for="input2">Gallery Upload</label>
					</div>
				</form> 
				<button type="button" class="button save-btn" id="savefile" onclick="savefile()">Save File</button>
			</div>
		</div>
	</div>
	
	<!-- Popup for connecting room -->
	<div class="modal fade" id="popup" tabindex="-1" role="dialog" aria-labelledby="joinroom-popup" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="joinroom-title">Join A Room</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form action="#" onsubmit="return getRoom()">
						<span>Enter room code:</span>
						<input label="roomCode" type="text" name="roomCode" id="roomCode" placeholder="Code here" style="width:65%"/>
					</form>
					<p></p>
						<div id="reader"></div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary" onclick="getRoom()">Join</button>
				</div>
			</div>
		</div>
	</div>
	
	</body>
	
	<footer>
		<div class="footer" id="joinroom-button">
			<button type="button" class="btn btn-light" data-toggle="modal" data-target="#popup">Join Room</button>
		</div>
	</footer>
	
    <!-- Client Code -->
  <script src="./dev.js"></script>
  <script src="./client.js"></script>
</html>
