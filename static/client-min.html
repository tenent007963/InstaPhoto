<!doctypehtml><meta charset=utf-8><meta content="width=device-width,initial-scale=1.5,maximum-scale=3,user-scalable=no"name=viewport><title>InstantPhoto - Client</title><script src=/socket.io/socket.io.js></script><button id=refresh onclick=window.location.reload() style=float:left type=button>Refresh page</button><div class=center style=width:50%;padding-top:20%><button id=plusroom onclick=plusroom() style=float:right;position:relative;width:140px;height:25px type=button>Change Room +</button> <button id=minusroom onclick=minusroom() style=float:right;position:relative;width:140px;height:25px type=button disabled>Change Room -</button><h4>Current room: <span id=roomindicator></span></h4><form id=holder name=upload><span>Take photo directly please use this:</span> <input accept=image/* id=input1 name=fresh type=file autofocus capture=camera><br><br><span>Upload photo from gallery please use this:</span> <input accept=image/* id=input2 name=gallery type=file></form><script>var socket=io(),src1=document.getElementById("input1"),src2=document.getElementById("input2");let room="test",rm="0";socket.emit("join",room),document.getElementById("roomindicator").innerHTML=room,src1.addEventListener("change",function(a){var b=a.target.files[0],c=new FileReader;c.onloadend=function(a){var b=a.target.result;socket.emit("image",b,room),console.log(`Sending data stream to ${room}`)},c.readAsDataURL(b)}),src2.addEventListener("change",function(a){var b=a.target.files[0],c=new FileReader;c.onloadend=function(a){var b=a.target.result;socket.emit("image",b,room)},c.readAsDataURL(b)});function plusroom(){rm++,joinroom(rm)}function minusroom(){rm--,joinroom(rm)}function joinroom(a){let b=room;switch(6<=a&&((a=6)?document.getElementById("plusroom").disabled=!0:(a--,alert("Uh-oh!Invalid Room selected."))),(1<=a,6>a)&&(document.getElementById("plusroom").disabled=!1,document.getElementById("minusroom").disabled=!1),1>=a&&((a=1)?document.getElementById("minusroom").disabled=!0:(a++,alert("Hey! Its not absolute zero!"))),a){case 1:room="room1",socket.emit("leave",b),socket.emit("join",room);break;case 2:room="room2",socket.emit("leave",b),socket.emit("join",room);break;case 3:room="room3",socket.emit("leave",b),socket.emit("join",room);break;case 4:room="room4",socket.emit("leave",b),socket.emit("join",room);break;case 5:room="room5",socket.emit("leave",b),socket.emit("join",room);break;case 6:room="room6",socket.emit("leave",b),socket.emit("join",room);break;default:room="test";}document.getElementById("roomindicator").innerHTML=room}    </script></div></body></html>
