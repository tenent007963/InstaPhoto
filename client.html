<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1.5,maximum-scale=3,user-scalable=no"/>
<title>InstantPhoto - Client - Local</title>
<script src=/socket.io/socket.io.js></script>
</head>
<body>
<div class=center style=width:50%;padding-top:20%>
<button type=button id=plusroom onclick=plusroom() style=float:right;position:relative;width:140px;height:25px>Change Room +</button>
<button type=button id=minusroom onclick=minusroom() style=float:right;position:relative;width:140px;height:25px disabled>Change Room -</button>
<h4>Current room: <span id=roomindicator></span></h4>
<input id=input type=file accept=image/* capture=camera autofocus>
<script type=text/javascript>var socket=io();var input=document.getElementById("input");let room="test";let rm="0";socket.emit("join",room);document.getElementById("roomindicator").innerHTML=room;document.getElementById("input").addEventListener("change",function(event){var file=event.target.files[0];var fileReader=new FileReader();fileReader.onloadend=function(event){var image=event.target.result;socket.emit("image",image,room);};fileReader.readAsDataURL(file);})
function plusroom(){rm++;console.log(rm);joinroom(rm);}
function minusroom(){rm--;console.log(rm);joinroom(rm)}
function joinroom(rm){var oldroom=room;if(rm>=6){if(rm=6){document.getElementById("plusroom").disabled=true;}else{rm--;console.log(rm);alert("Uh-oh!Invalid Room selected.");}}
if(rm>=1,rm<6){document.getElementById("plusroom").disabled=false;document.getElementById("minusroom").disabled=false;}
if(rm<=1){if(rm=1){document.getElementById("minusroom").disabled=true;}else{rm++;console.log(rm);alert("Hey! Its not absolute zero!");}}
switch(rm){case 1:room="room1";socket.emit("leave",oldroom);socket.emit("join",room);break;case 2:room="room2";socket.emit("leave",oldroom);socket.emit("join",room);break;case 3:room="room3";socket.emit("leave",oldroom);socket.emit("join",room);break;case 4:room="room4";socket.emit("leave",oldroom);socket.emit("join",room);break;case 5:room="room5";socket.emit("leave",oldroom);socket.emit("join",room);break;case 6:room="room6";socket.emit("leave",oldroom);socket.emit("join",room);break;default:room="test";break;}
document.getElementById("roomindicator").innerHTML=room;}</script>
</div>
</body>
</html>